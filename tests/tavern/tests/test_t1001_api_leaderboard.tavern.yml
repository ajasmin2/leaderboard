test_name: Leaderboard List

includes:
  - !include config.yml

strict:
  - headers:on
  - json:on

stages:
  - name: Validate Leaderboard
    request:
      url: "{url.api:s}/leaderboards"
      method: GET
      headers:
        $ext:
          function: testing_utils:authorization_password_user
        content-type: application/json
        accept: application/json
    response:
      status_code: 200
      verify_response_with:
        function: tavern.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: seq
            sequence:
              - type: map
                mapping:
                  id:
                    type: int
                    required: True
                  name:
                    type: str
                    required: True
                  status:
                    type: int
                    required: True
                  created_at:
                    type: str
                    required: False
                  updated_at:
                    type: str
                    required: False


